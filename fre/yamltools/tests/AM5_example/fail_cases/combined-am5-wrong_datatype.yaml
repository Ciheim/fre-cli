name: am5-wrong_datatype
platform: ncrc5.intel23
target: prod
build:
  compileYaml: compile_fail/wrong_compile.yaml
  platformYaml: compile_fail/wrong_platforms.yaml
compile:
  experiment: am5
  container_addlibs: null
  baremetal_linkerflags: null
  src:
  - component: FMS
    repo: https://github.com/NOAA-GFDL/FMS.git
    cppdefs: -DHAVE_GETTID -Duse_libMPI -Duse_netCDF
    branch: 2022e+1
    otherFlags: -IFMS/fms2_io/include -IFMS/include -IFMS/mpp/include
platforms:
- name: ncrc5.intel
  compiler: intel
  modulesInit:
  - " module use -a /ncrc/home2/fms/local/modulefiles \n"
  - "source $MODULESHOME/init/sh \n"
  modules:
  - intel-classic/2022.2.1
  - fre/bronx-20
  - cray-hdf5/1.12.2.3
  - cray-netcdf/4.9.0.3
  fc: ftn
  cc: cc
  mkTemplate: /ncrc/home2/fms/local/opt/fre-commands/bronx-20/site/ncrc5/$(INTEL).mk
  modelRoot: ${HOME}/fremake_canopy/test
- name: ncrc5.intel23
  compiler: intel
  modulesInit:
  - " module use -a /ncrc/home2/fms/local/modulefiles \n"
  - "source $MODULESHOME/init/sh \n"
  modules:
  - intel-classic/2023.1.0
  - fre/bronx-20
  - cray-hdf5/1.12.2.3
  - cray-netcdf/4.9.0.3
  fc: ftn
  cc: cc
  mkTemplate: /ncrc/home2/fms/local/opt/fre-commands/bronx-20/site/ncrc5/$(INTEL).mk
  modelRoot: ${HOME}/fremake_canopy/test
- name: hpcme.2023
  compiler: intel
  RUNenv:
  - . /spack/share/spack/setup-env.sh
  - spack load libyaml
  - spack load netcdf-fortran@4.5.4
  - spack load hdf5@1.14.0
  modelRoot: /apps
  fc: mpiifort
  cc: mpiicc
  container: true
  containerBuild: podman
  containerRun: apptainer
