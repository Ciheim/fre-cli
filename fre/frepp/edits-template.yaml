## User defined edits

# Paths
configuration paths:
  # Path to where user wants rose-suite experiment configuration
  rose-suite:
  # Path to remap-pp-components rose-app.conf
  rose-remap:
  # Path to regrid rose-app.conf
  rose-regrid: 

# Define widely used variables
# Length of analysis of experiment, in double quotes
analysisLen: &ANA_AMIP_LEN ""
# In double quotes
chunk96: &PP_AMIP_CHUNK96 ""
# Year to start analysis on experiment, in double quotes
analysisStart: &ANA_AMIP_START ""
# Year to stop analysis on experiment, in double quotes
analysisStop: &ANA_AMIP_STOP ""
# Default xy Interp, in double quotes
defxyInterp: &defaultxyInterp ""

# Information for rose-suite experiment configuration 
rose-suite:
  settings:
    # ISO8601 duration of the length of the history segment
    history_segment:
    # ISO8601 date to begin postprocessing
    pp_start:
    # ISO8601 date to stop postprocessing
    pp_stop:
    
    len:
    # Specific site used for workflow; must be 'generic', 'gfdl-ws' or 'ppan'
    site:
    # Location for shared analysis scripts
    fre_analysis_home:
    # ISO8601 duration of the desired post-processed output
    pp_chunk_a:
    # ISO8601 duration of a second desired postprocessed output
    pp_chunk_b:
    # Filepath to an FMS gridSpec netCDF file or a tarfile
    pp_grid_spec: 

  switches:
    # Switch to remove intermediate data files when they are no longer needed
    clean_work:
    # Switch to run MDTF on generated pp output
    do_mdtf:
    # Switch to turn on/off statics processing
    do_statics:
    # Switch to turn on/off time-average file generation
    do_timeavgs:
    # Switch to run refine-diag script(s) on history file to generate additional diagnostics
    do_refinediag:
    # Switch to mask atmos pressure-level output above/below surface pressure/atmos top
    do_atmos_plevel_masking:
    # Switch to run a pre-analysis script on history files
    do_preanalysis:
 
  directories:
    # Directory to the primary location for history files
    history_dir:
    # Directory to write pp products to
    pp_dir:
    # Directory to use for history file cache
    ptmp:
    # Filepath to the user script(s) 
    refine_diag:
      # Data stager
      datastager_script:
      # Atmos cmip6
      atmoscmip6_script:
    # Filepath to the user script
    preanalysis:
    # Directory to the secondary location for history files
    history_dir_refined:
    # Directory to write analysis output
    analysis:

  metadata:
    # Label for the experiment
    experiment:
    # Label for the hardware and software environment
    platform:
    # Label for the FRE compilation target used in the simulation
    target:

# Information needed to populate the rose-apps for regrid-xy and remap-pp-components
# These rose apps will be retired eventually 
regrid-remap-info:
  components:
      # Name of component
    - type:
      # Analysis start 
      start: *ANA_AMIP_START
      sources:
      sourceGrid:
      # Default regridded grid
      xyInterp: *defaultxyInterp
      # Should be 'conserve_order1', 'conserve_order2' or 'bilinear'
      interpMethod:
      timeSeries:
        - freq:
          source: 
          chunkLength: *PP_AMIP_CHUNK96
        - freq: 
          source: 
          chunkLength: *PP_AMIP_CHUNK96
          variables: 
        - freq: 
          source:
          chunkLength: *PP_AMIP_CHUNK96
        - freq: 
          chunkLength: *PP_AMIP_CHUNK96
      timeAverage:
        - source:
          interval: *PP_AMIP_CHUNK96
        - source: 
          interval: *ANA_AMIP_LEN
        - source: 
          interval: *PP_AMIP_CHUNK96
          calcInterval: *PP_AMIP_CHUNK96
    - type: 
      zInterp:
      start: *ANA_AMIP_START
      sources:
      sourceGrid: 
      xyInterp: *defaultxyInterp
      cmip: 
      timeSeries:
        - freq: 
          source: 
          chunkLength: *PP_AMIP_CHUNK96
        - freq:
          chunkLength: *PP_AMIP_CHUNK96
      timeAverage:
        - source: 
          interval: *PP_AMIP_CHUNK96
        - source: 
          interval: *ANA_AMIP_LEN
        - source: 
          interval: *PP_AMIP_CHUNK96
          calcInterval: *PP_AMIP_CHUNK96
        - source: 
          interval: *ANA_AMIP_LEN
    - type: 
      start: *ANA_AMIP_START
      sources:
      sourceGrid: 
      xyInterp: *defaultxyInterp
      cmip: 
      timeSeries:
        - freq:
          chunkLength: *PP_AMIP_CHUNK96
    - type: 
      start: *ANA_AMIP_START
      sources: 
      sourceGrid: 
      xyInterp: *defaultxyInterp
      cmip: 
      timeSeries:
        - freq:
          chunkLength: *PP_AMIP_CHUNK96
        - freq: 
          chunkLength: *PP_AMIP_CHUNK96
      timeAverage:
        - source:
          interval: *PP_AMIP_CHUNK96
        - source: 
          interval: *ANA_AMIP_LEN
    - type: 
      start: *ANA_AMIP_START
      sources: 
      sourceGrid:
      xyInterp: *defaultxyInterp
      interpMethod: 
      cmip: 
      timeAverage:
        - source: 
          interval: *PP_AMIP_CHUNK96
        - source:  
          interval: *ANA_AMIP_LEN
      timeSeries:
        - freq: 
          chunkLength: *PP_AMIP_CHUNK96
    - type: 
      start: *ANA_AMIP_START
      sources: 
      sourceGrid: 
      xyInterp: *defaultxyInterp
      timeSeries:
        - freq: 
          chunkLength: *PP_AMIP_CHUNK96
    - type: 
      start: *ANA_AMIP_START
      sources: 
      cmip: 
      timeSeries:
        - freq: 
          chunkLength: *PP_AMIP_CHUNK96
        - freq: 
          source: 
          chunkLength: *PP_AMIP_CHUNK96
    - type: 
      start: *ANA_AMIP_START
      sources: 
      sourceGrid: 
      xyInterp: *defaultxyInterp
      interpMethod:
      cmip: 
      timeSeries:
        - freq: 
          chunkLength: *PP_AMIP_CHUNK96
        - freq: 
          chunkLength: *PP_AMIP_CHUNK96
      timeAverage:
        - source: 
          interval: *PP_AMIP_CHUNK96
        - source: 
          interval: *ANA_AMIP_LEN
    - type: 
      start: *ANA_AMIP_START
      xyInterp: *defaultxyInterp
      sources: 
      sourceGrid: 
      interpMethod: 
      cmip: 
      timeSeries:
        - freq: 
          chunkLength: *PP_AMIP_CHUNK96
        - freq: 
          chunkLength: *PP_AMIP_CHUNK96
          source: 
    - type: 
      start: *ANA_AMIP_START
      sources: 
      sourceGrid: 
      xyInterp: *defaultxyInterp
      interpMethod: 
      cmip: 
      timeSeries:
        - freq: 
          chunkLength: *PP_AMIP_CHUNK96
      timeAverage:
        - source: 
          interval: *PP_AMIP_CHUNK96
        - source: 
          interval: *ANA_AMIP_LEN
    - type: 
      start: *ANA_AMIP_START
      sources:
      sourceGrid: 
      xyInterp: *defaultxyInterp
      interpMethod: 
      cmip: 
      timeSeries:
        - freq: 
          chunkLength: *PP_AMIP_CHUNK96

# TMP DIRECTORY CREATION
# This edit is not needed when working on pp/an. If not working on pp/an, a tmpDir must be defined.
tmpdir:
  tmpdirpath:

# Optional edit: Add --symlink-dirs option to install cylc-run directory to location with more space available; default installation location for cylc-run directory is $HOME;
# Utilize this edit if you do not have enough space in home directory
install-exp-script:
    - path:
    - install-option:
        install:
